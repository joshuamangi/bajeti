{% extends "base.html" %}
{% block content%}
{% if error %}
  <p style="color:red;">{{ error }}</p>
{% endif %}

<h2>Register</h2>
<form method="POST" action="/register">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" value="{{ email | default('') }}" required>
    <br>
    <label for="first_name">First Name:</label>
    <input type="text" id="first_name" name="first_name" value="{{ first_name | default('') }}" required>
    <br>
    <label for="last_name">Last Name:</label>
    <input type="text" id="last_name" name="last_name" value="{{ last_name | default('') }}" required>
    <br>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>
    <br>
    <label for="confirm_password">Confirm Password:</label>
    <input type="password" id="confirm_password" name="confirm_password" required>
    <br>
    <button type="submit">Register</button>
</form>
<script>
const password = document.getElementById("password");
const confirmPassword = document.getElementById("confirm_password");
const message = document.getElementById("message");

function validatePassword() {
    if (confirmPassword.value === "") {
        message.textContent = "";
        return;
    }
    if (password.value === confirmPassword.value) {
        message.style.color = "green";
        message.textContent = "✅ Passwords match";
    } else {
        message.style.color = "red";
        message.textContent = "❌ Passwords do not match";
    }
}

password.addEventListener("input", validatePassword);
confirmPassword.addEventListener("input", validatePassword);
</script>
{% endblock %}